var test = require('tape')
var tpl = require('../index.js')

test('test template get, draw and erase', function (t) {
  t.plan(3)

  var markup = '<ul class="data"></ul><li class="item">{{txt}}</li>'

  var text = {txt:'some text'}

  var ul = tpl(document.body, markup) 

  t.equal(ul.get('.item'),'<li class="item">{{txt}}</li>')

  var li = tpl(document.body, ul.get('.item'))

  li.draw(text, function (el) {
    t.equal(el.innerHTML, 'some text')
    li.erase()
    t.equal(document.body.querySelector('.item'),null)
  })
})
